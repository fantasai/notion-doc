
\chapter{Preliminaries: Key concepts and relations}
\label{chap:prelim}

The purpose of this chapter to explain some of key concepts and
relations you need to understand before reading the following
chapters. These include modules explained in section \ref{sec:modules}
and the Ion class and object hierarchies, section \ref{sec:objects}.


\section{Modules}
\label{sec:modules}

Ion has been designed so that the 'ion' executable only implements some
basic services on top of which very different kinds of window managers
could be build by loading the appropriate 'modules'. On modern system
these modules are simply dynamically loaded \file{.so} libraries. On 
more primitive systems, or if you want to squeeze total size of the 
executable and libraries, the modules can optionally be statically 
linked to the main binary, but must nevertheless be loaded with the
\fnref{dopath} function. Modules may also include Lua code.

If no modules are loaded, all client windows appear in full screen mode.
To get better window management support, one or more workspace modules
should be loaded. Currently Ion provides the following workspace modules

\begin{description}
    \item[\file{mod\_ionws}] Tiled workspaces of the original Ion kind.
    \item[\file{mod\_floatws}] Conventional workspaces with freely floating
      frames of the PWM flavour.
    \item[\file{mod\_panews}] Tiled workspaces with automatic tiling in a
      template layout based on silly heuristics or winprop (see section
      \ref{sec:winprop}).
\end{description}

Workspace modules alone don't yet make the WM very usable. At the least
the \file{mod\_query} and \file{mod\_menu} modules should be loaded for
better input capabilities. The full list of additional modules is as
follows
\begin{description}
    \item[\file{mod\_query}] Queries (for starting programs and so on)
      and message boxes.
    \item[\file{mod\_menu}] Support for menus, both pull-down and
      keyboard-operated in-frame menus.
    \item[\file{mod\_statusbar}] Module that implements a statusbar that
      can be adaptively embedded in each workspace's layout.
    \item[\file{mod\_dock}] Module for docking Window Maker dockapps.
      The dock can both float and be embedded as the statusbar.
    \item[\file{mod\_sp}] This module implements a scratchpad frame that can
      be toggled on/off everywhere. Think of the 'console' in some 
      first-person shooters.
    \item[\file{mod\_mgmtmode}] Support module for implementing ''management
      modes'' with a XOR-frame similar to move/resize mode around selected
      region.
    \item[\file{mod\_sm}] Session management support module.
      \emph{Loaded automatically when needed!}
\end{description}

So-called drawing engines are also implemented as a modules,
but they are not discussed here; see chapter \ref{chap:gr}.

The stock configuration for the 'ion3' executable loads all of the modules
mentioned above except \file{mod\_dock} and file{mod\_mgmtmode}.
The stock configuration for the 'pwm3' executable (which differs from the 
'ion3' executable in a few configuration details, such as Xinerama usage) 
only load \file{mod\_floatws}, \file{mod\_menu} and \file{mod\_query}.

\input{objects}
